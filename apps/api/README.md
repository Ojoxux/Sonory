# Sonory API

Cloudflare Workers + Honoã§æ§‹ç¯‰ã•ã‚ŒãŸSonoryã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã§ã™ã€‚

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.example`ã‚’å‚è€ƒã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```bash
cp .env.example .env
```

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
â”œâ”€â”€ routes/         # APIãƒ«ãƒ¼ãƒˆå®šç¾©
â”œâ”€â”€ services/       # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ middleware/     # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”œâ”€â”€ utils/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ types/          # å‹å®šç¾©
â””â”€â”€ index.ts        # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰

- `npm run dev` - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- `npm run build` - ãƒ“ãƒ«ãƒ‰
- `npm run deploy` - Cloudflare Workersã¸ãƒ‡ãƒ—ãƒ­ã‚¤
- `npm run lint` - ãƒªãƒ³ãƒˆå®Ÿè¡Œ
- `npm run format` - ã‚³ãƒ¼ãƒ‰æ•´å½¢
- `npm run type-check` - å‹ãƒã‚§ãƒƒã‚¯
- `npm run test` - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

## ğŸŒ APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `GET /api/health` - åŸºæœ¬çš„ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `GET /api/health/detailed` - è©³ç´°ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

### éŸ³å£°é–¢é€£ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- `POST /api/audio/upload` - éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- `GET /api/audio/:id` - éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
- `DELETE /api/audio/:id` - éŸ³å£°å‰Šé™¤
- `POST /api/audio/:id/analyze` - AIåˆ†æå®Ÿè¡Œ

### ãƒ”ãƒ³é–¢é€£ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- `GET /api/pins/nearby` - ç¯„å›²å†…ãƒ”ãƒ³å–å¾—
- `POST /api/pins` - ãƒ”ãƒ³ä½œæˆ
- `GET /api/pins/:id` - ãƒ”ãƒ³è©³ç´°å–å¾—
- `PUT /api/pins/:id` - ãƒ”ãƒ³æ›´æ–°
- `DELETE /api/pins/:id` - ãƒ”ãƒ³å‰Šé™¤

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Cloudflare Workers** - ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒ
- **Hono** - è»½é‡Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript** - å‹å®‰å…¨ãªé–‹ç™º
- **Supabase** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **Python Audio Analyzer (YAMNet)** - AIéŸ³å£°åˆ†é¡ 