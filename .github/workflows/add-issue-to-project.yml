name: Add Issue to Project

on:
  issues:
    types:
      - opened

jobs:
  add-to-project:
    name: Add Issue to Project
    runs-on: ubuntu-latest
    steps:
      - name: Add Issue to Project
        uses: actions/add-to-project@v0.5.0
        id: add-to-project
        with:
          # Ojoxux/Sonoryリポジトリ用のプロジェクトURL
          # プロジェクト番号は実際のプロジェクト番号に変更してください
          project-url: https://github.com/users/Ojoxux/projects/1
          github-token: ${{ secrets.GITHUB_TOKEN }}
          
      # デフォルトで「💡 アイデア」ステータスを設定
      - name: Set Default Status
        if: success()
        uses: titoportas/update-project-fields@v0.1.0
        with:
          project-url: https://github.com/users/Ojoxux/projects/1
          github-token: ${{ secrets.GITHUB_TOKEN }}
          item-id: ${{ steps.add-to-project.outputs.itemId }}
          field-keys: Status
          field-values: "💡 アイデア" 